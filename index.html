<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="ClearNano - 移除 Gemini Nano Banana 浮水印的純前端工具，使用 Reverse Alpha Blending 技術精準還原原始影像"
    />
    <meta
      name="keywords"
      content="Gemini, Nano, Banana, 浮水印移除, Watermark Remover, Alpha Blending"
    />
    <title>ClearNano - Gemini Nano Banana 浮水印移除工具</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="assets/styles.css" />
    <link rel="icon" type="image/png" href="assets/favicon-128.png">
  </head>
  <body>
    <div class="app-container">
      <!-- Header -->
      <header class="header">
        <div class="logo">
          <div class="logo-icon">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M12 2L2 7L12 12L22 7L12 2Z"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M2 17L12 22L22 17"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M2 12L12 17L22 12"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </div>
          <h1>ClearNano</h1>
        </div>
        <p class="tagline">Gemini Nano Banana 浮水印移除工具</p>
      </header>

      <!-- Main Content -->
      <main class="main-content">
        <!-- Upload Section -->
        <section class="upload-section">
          <div class="upload-zone" id="dropZone">
            <div class="upload-icon">
              <svg
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <polyline
                  points="17,8 12,3 7,8"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <line
                  x1="12"
                  y1="3"
                  x2="12"
                  y2="15"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </div>
            <h3>拖放圖片至此處</h3>
            <p>或點擊選擇檔案</p>
            <span class="file-types">支援 PNG、JPG、WebP 格式</span>
            <input
              type="file"
              id="fileInput"
              accept="image/*"
              multiple
              hidden
            />
          </div>
        </section>

        <!-- Processing Status -->
        <section
          class="status-section"
          id="statusSection"
          style="display: none"
        >
          <div class="status-card">
            <div class="spinner"></div>
            <p id="statusText">處理中...</p>
          </div>
        </section>

        <!-- Results Section -->
        <section
          class="results-section"
          id="resultsSection"
          style="display: none"
        >
          <div class="results-header">
            <h2>處理結果</h2>
            <div class="results-actions">
              <button class="btn btn-secondary" id="clearAllBtn">
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M3 6H5H21"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
                清除全部
              </button>
              <button class="btn btn-primary" id="downloadAllBtn">
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V15"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <polyline
                    points="7,10 12,15 17,10"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <line
                    x1="12"
                    y1="15"
                    x2="12"
                    y2="3"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
                下載全部
              </button>
            </div>
          </div>
          <div class="results-grid" id="resultsGrid">
            <!-- Results will be dynamically inserted here -->
          </div>
        </section>
      </main>

      <!-- Info Section -->
      <section class="info-section">
        <div class="info-cards">
          <div class="info-card">
            <div class="info-icon">
              <svg
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z"
                  stroke="currentColor"
                  stroke-width="2"
                />
                <path
                  d="M9 12L11 14L15 10"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </div>
            <h4>純本地處理</h4>
            <p>所有運算都在瀏覽器中完成，圖片不會上傳至伺服器</p>
          </div>
          <div class="info-card">
            <div class="info-icon">
              <svg
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M12 2L2 7L12 12L22 7L12 2Z"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M2 17L12 22L22 17"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M2 12L12 17L22 12"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </div>
            <h4>數學精確還原</h4>
            <p>使用反向 Alpha 混合算法，精準恢復原始像素</p>
          </div>
          <div class="info-card">
            <div class="info-icon">
              <svg
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <circle
                  cx="12"
                  cy="12"
                  r="10"
                  stroke="currentColor"
                  stroke-width="2"
                />
                <path
                  d="M12 6V12L16 14"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                />
              </svg>
            </div>
            <h4>快速處理</h4>
            <p>自動偵測浮水印位置，即時處理無需等待</p>
          </div>
        </div>
      </section>

      <!-- Footer -->
      <footer class="footer">
        <p>ClearNano | 採用 MIT 授權條款</p>
      </footer>
    </div>

    <!-- Image Preview Modal -->
    <div class="modal" id="previewModal">
      <div class="modal-overlay" id="modalOverlay"></div>
      <div class="modal-content">
        <button class="modal-close" id="modalClose">
          <svg
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <line
              x1="18"
              y1="6"
              x2="6"
              y2="18"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
            <line
              x1="6"
              y1="6"
              x2="18"
              y2="18"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
          </svg>
        </button>
        <div class="modal-image-container">
          <div class="modal-tabs">
            <button class="modal-tab active" data-tab="before">原圖</button>
            <button class="modal-tab" data-tab="after">處理後</button>
            <span style="margin-left: auto; font-size: 12px; align-self: center; color: var(--color-text-muted);">點擊圖片切換寬度適應 (Fit Width)</span>
          </div>
          <div class="modal-viewport" id="modalViewport">
            <img id="previewImage" src="" alt="Preview" />
          </div>
        </div>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>
